!function(a){function b(b,d){for(var e="",f=c(b,d),g=0;g<f.length;g++)e+=f[g]==a(b).val()?'<li style="background:#e3f7fc">'+f[g]+"</li>":"<li onmouseover=\"this.style.background='#e3f7fc'\" onmouseout=\"this.style.background='#fff'\">"+f[g]+"</li>";a("#times").length>0?a("#times").html(e):a("body").append('<ul id="times" class="times" style="display:none">'+e+"</ul>"),a("#times li").bind("click",function(){var c=a(this).text();d.onSelect.call(b,c),a(b).trigger("hide").val(c)}),a("#times").hover(function(){a("body").unbind("mousedown")},function(){a("body").bind("mousedown",function(){a("body").unbind("mousedown"),a(b).trigger("hide")})}),a("body").bind("mousedown",function(){a("body").unbind("mousedown"),a(b).trigger("hide")})}function c(a,b){var c=[],d=new Date(1990,10,1);if(d.setHours(b.minValue.split(":")[0],b.minValue.split(":")[1]),b.minValue>b.maxValue)var e=new Date(1990,10,2);else var e=new Date(1990,10,1);for(e.setHours(b.maxValue.split(":")[0],b.maxValue.split(":")[1]);e>d||e.getTime()==d.getTime();){var f=(d.getHours()>9?d.getHours():"0"+d.getHours())+":"+(d.getMinutes()>9?d.getMinutes():"0"+d.getMinutes());c.push(f),d.setMinutes(d.getMinutes()+b.Interval)}return c.sort()}a.fn.extend({timer:function(b){var c={Interval:30,minValue:"00:00",maxValue:"23:59",onSelect:function(){}},b=a.extend(c,b);return this.each(function(){new a.timer(this,b)})}}),a.timer=function(c,d){a(c).bind("click",function(){b(c,d),a(this).trigger("show")}).bind("show",function(){var d=a(c).offset();a("#times").css({top:d.top+c.offsetHeight,left:d.left}).show(!1)}).bind("hide",function(){a("#times").css("display","none"),a("body").unbind("mousedown")})}}(jQuery);